mixin show-users-with-links
    b {{title}}: &#32;
    | {% for item in list                           %}
    | {%    if item.url                             %}
    a(href='{{item.url}}') {{ item.name }}
    | {%    else                                    %}
    span {{ item.name }}
    | {%    endif                                   %}
    | {%    if item.remote                          %}
    span (remotely)
    | {%    endif                                   %}
    | {%    if forloop.last != true                 %}
    span ,
    | {%    endif                                   %}
    | {% endfor                                     %}

mixin show-organizers
    | {% assign title = 'Organizer(s)'              %}
    | {% assign list  = track_data.organizers       %}
    + show-users-with-links

mixin show-participants
    | {% assign title = 'Participants(s)'           %}
    | {% assign list  = track_data.participants     %}
    + show-users-with-links


mixin show-related-to
    | {% if track_data.related-to.size > 0                 %}
    h3 Related Working Session(s)
    ul
        | {%  for working-session in track_data.related-to  %}
        | {%    if working-session .url                     %}
        li
            a(href='{{working-session .url}}') {{ working-session.name }}
        | {%    else                                        %}
        li  {{ working-session }}
        | {%    endif                                       %}
        | {%  endfor                                        %}
    | {%  endif                                             %}

mixin track-schedule
    b
        | See &#32;
        a(href="/schedule/tracks/{{ page.title | replace: ' ', '-'}}.html") schedule
        | &#32; for this track


| {% assign track_data     = site.data.mapped.tracks[page.title]                        %}
| {% assign track_ws_ok    = track_data.working-sessions.ok                             %}
| {% assign track_ws_draft = track_data.working-sessions.draft                          %}

.working-session
    .container
        h1 {{ page.title }}  (Track)
        p {{ page.description }}
        + show-organizers
        br
        + show-participants
        br
        + track-schedule

        h3 Working sessions in this Track
        ul
            | {% for track in track_ws_ok %}
            li
                a(href='{{ track.url }}') {{ track.name }}
            | {% endfor %}

        | {% if track_ws_draft.size > 0 %}
        ul
            li
                b In draft status (i.e. need content):
                ul
                    | {% for track in track_ws_draft %}
                    li
                        a(href='{{ track.url }}') {{ track.name }}
                    | {% endfor %}

        | {% endif %}
        + show-related-to

        | {{ content }}
        br
        hr
        p Back to list of <a href='/website/working-sessions.html'>all Working Sessions and Tracks</a>
        p Edit this page <a href='https://github.com/OWASP/owasp-summit-2017/blob/master/{{ page.path }}'>here </a>
